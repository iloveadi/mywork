
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì›”ê°„ ê¸°ë¡ ë‹¬ë ¥</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
        rel="stylesheet" />
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --bg-main: #0f1117;
            --bg-header: #151820;
            --bg-cell: #1a1e2a;
            --bg-cell-weekend: #1d1525;
            --bg-cell-today: #1a2035;
            --border: #2a2f3e;
            --text-main: #d0d4e0;
            --text-muted: #6b7280;
            --text-day-sun: #ff4d6d;
            --text-day-sat: #5b8dee;
            --text-today: #ffffff;

            --row1-on: #e53e3e;
            --row1-on-text: #fff;
            --row1-off: #2d1a1a;
            --row1-off-text: #7a4a4a;

            --row2-on: #2b6cb0;
            --row2-on-text: #fff;
            --row2-off: #1a2235;
            --row2-off-text: #4a6090;

            --row3-on: #276749;
            --row3-on-text: #fff;
            --row3-off: #1a2820;
            --row3-off-text: #3a6650;
        }

        html,
        body {
            height: 100%;
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--bg-main);
            color: var(--text-main);
            overflow: hidden;
        }

        /* â”€â”€ ì „ì²´ ë ˆì´ì•„ì›ƒ â”€â”€ */
        #app {
            display: flex;
            flex-direction: column;
            height: 100vh;
            padding: 8px 10px;
        }

        /* â”€â”€ í—¤ë” â”€â”€ */
        #cal-header {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 6px 10px;
            flex-shrink: 0;
        }

        #cal-title {
            font-size: 1.45rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            color: #e8ecf4;
        }

        #cal-title .nepe-count {
            font-weight: 600;
            font-size: 1rem;
            margin-left: 10px;
            padding: 2px 10px;
            border-radius: 20px;
            background: #1e2535;
            border: 1px solid #3a4560;
            color: #8b9dc0;
            transition: background 0.3s, color 0.3s, border-color 0.3s;
            letter-spacing: 0;
        }

        #cal-title .nepe-count.goal-done {
            background: #1a3528;
            border-color: #276749;
            color: #4ade80;
        }

        #cal-title .nepe-count .count-num {
            color: #e2e8f0;
            font-size: 1.1rem;
        }

        #cal-title .nepe-count.goal-done .count-num {
            color: #4ade80;
        }

        /* ì €ì¥ ìƒíƒœ í‘œì‹œ */
        #save-status {
            font-size: 0.75rem;
            font-weight: 500;
            padding: 3px 10px;
            border-radius: 12px;
            margin-left: 4px;
            transition: opacity 0.3s;
        }

        #save-status:empty {
            display: none;
        }

        .status-loading {
            color: #8b9dc0;
            background: #1e2535;
            border: 1px solid #3a4560;
        }

        .status-saving {
            color: #f6ad55;
            background: #2d1f10;
            border: 1px solid #744210;
        }

        .status-saved {
            color: #4ade80;
            background: #1a3528;
            border: 1px solid #276749;
        }

        .status-error {
            color: #fc8181;
            background: #2d1515;
            border: 1px solid #742020;
        }

        .nav-btn {
            background: none;
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-muted);
            width: 28px;
            height: 28px;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.18s;
        }

        .nav-btn:hover {
            background: #252a38;
            color: var(--text-main);
            border-color: #4a5270;
        }

        .lock-btn {
            font-size: 0.95rem;
            border-color: #3a3050;
            opacity: 0.55;
            transition: opacity 0.2s, background 0.18s, border-color 0.18s;
        }

        .lock-btn:hover {
            opacity: 1;
            background: #2a1e35;
            border-color: #7c5cbf;
        }

        /* â”€â”€ ë‹¬ë ¥ ê·¸ë¦¬ë“œ â”€â”€ */
        #calendar {
            flex: 1;
            display: grid;
            grid-template-rows: auto 1fr 1fr 1fr 1fr 1fr 1fr;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: var(--border);
            border: 1px solid var(--border);
            border-radius: 10px;
            overflow: hidden;
            min-height: 0;
        }

        /* ìš”ì¼ í—¤ë” ì…€ */
        .day-header {
            background: var(--bg-header);
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            padding: 7px 0;
            letter-spacing: 0.5px;
            color: var(--text-muted);
        }

        .day-header.sun {
            color: var(--text-day-sun);
        }

        .day-header.sat {
            color: var(--text-day-sat);
        }

        /* ë‚ ì§œ ì…€ */
        .cell {
            background: var(--bg-cell);
            padding: 4px 5px;
            display: flex;
            flex-direction: column;
            gap: 2px;
            overflow: hidden;
            position: relative;
            min-height: 0;
        }

        .cell.weekend {
            background: var(--bg-cell-weekend);
        }

        .cell.empty {
            background: #12151e;
            opacity: 0.4;
        }

        .cell.today {
            background: var(--bg-cell-today);
        }

        .cell.today::after {
            content: '';
            position: absolute;
            inset: 0;
            border: 2px solid #3b5bdb;
            border-radius: 2px;
            pointer-events: none;
        }

        /* ë‚ ì§œ ìˆ«ì */
        .date-num {
            font-size: 0.88rem;
            font-weight: 700;
            color: #8b9dc0;
            line-height: 1;
            margin-bottom: 2px;
        }

        .cell.sun .date-num {
            color: #e05070;
        }

        .cell.sat .date-num {
            color: #5b8dee;
        }

        .cell.today .date-num {
            background: #3b5bdb;
            color: #fff;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ë°°ì§€ í–‰ */
        .badge-row {
            display: flex;
            flex-wrap: wrap;
            gap: 2px;
        }

        /* ë°°ì§€ */
        .badge {
            font-size: 0.76rem;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 4px;
            cursor: pointer;
            user-select: none;
            letter-spacing: -0.2px;
            transition: transform 0.1s, filter 0.15s;
            white-space: nowrap;
        }

        .badge:hover {
            transform: scale(1.08);
            filter: brightness(1.2);
        }

        .badge:active {
            transform: scale(0.95);
        }

        /* í–‰ë³„ ìƒ‰ìƒ */
        .badge.row1 {
            background: var(--row1-off);
            color: var(--row1-off-text);
        }

        .badge.row1.on {
            background: var(--row1-on);
            color: var(--row1-on-text);
        }

        .badge.row2 {
            background: var(--row2-off);
            color: var(--row2-off-text);
        }

        .badge.row2.on {
            background: var(--row2-on);
            color: var(--row2-on-text);
        }

        .badge.row3 {
            background: var(--row3-off);
            color: var(--row3-off-text);
        }

        .badge.row3.on {
            background: var(--row3-on);
            color: var(--row3-on-text);
        }

        /* ì£¼ ìˆ˜ë³„ ê·¸ë¦¬ë“œ í–‰ ì„¤ì • */
        #calendar.weeks-4 {
            grid-template-rows: auto 1fr 1fr 1fr 1fr;
        }

        #calendar.weeks-5 {
            grid-template-rows: auto 1fr 1fr 1fr 1fr 1fr;
        }

        #calendar.weeks-6 {
            grid-template-rows: auto 1fr 1fr 1fr 1fr 1fr 1fr;
        }

        /* â”€â”€ ì ê¸ˆ í™”ë©´ â”€â”€ */
        #lock-screen {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: #0a0c12;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 28px;
        }

        #lock-screen.hidden {
            display: none;
        }

        .lock-icon {
            font-size: 2.2rem;
            opacity: 0.6;
        }

        .lock-title {
            font-size: 1rem;
            color: #6b7280;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .pin-dots {
            display: flex;
            gap: 16px;
        }

        .pin-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            border: 2px solid #3a4560;
            background: transparent;
            transition: background 0.15s, border-color 0.15s;
        }

        .pin-dot.filled {
            background: #5b8dee;
            border-color: #5b8dee;
        }

        .pin-dot.error {
            background: #e53e3e;
            border-color: #e53e3e;
        }

        .pin-keypad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 8px;
        }

        .pin-key {
            width: 68px;
            height: 68px;
            border-radius: 50%;
            border: 1px solid #2a2f3e;
            background: #151820;
            color: #d0d4e0;
            font-size: 1.4rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.15s, transform 0.1s;
            font-family: 'Noto Sans KR', sans-serif;
            user-select: none;
        }

        .pin-key:hover {
            background: #1e2535;
        }

        .pin-key:active {
            transform: scale(0.92);
            background: #252a3a;
        }

        .pin-key.del {
            font-size: 1rem;
            color: #6b7280;
        }

        .pin-key.zero {
            grid-column: 2;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            20% {
                transform: translateX(-8px);
            }

            40% {
                transform: translateX(8px);
            }

            60% {
                transform: translateX(-6px);
            }

            80% {
                transform: translateX(6px);
            }
        }

        .pin-dots.shake {
            animation: shake 0.4s ease;
        }

        /* â”€â”€ í…Œë§ˆ ë“œë¡­ë‹¤ìš´ â”€â”€ */
        .theme-dropdown {
            position: relative;
            margin-left: auto;
        }

        .theme-btn {
            background: #1e2535;
            border: 1px solid #3a4560;
            border-radius: 6px;
            color: #8b9dc0;
            padding: 4px 10px;
            font-size: 0.8rem;
            font-family: 'Noto Sans KR', sans-serif;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
            transition: all 0.18s;
        }

        .theme-btn:hover {
            background: #252a38;
            color: var(--text-main);
        }

        .theme-btn .chev {
            font-size: 0.65rem;
            transition: transform 0.2s;
        }

        .theme-dropdown.open .chev {
            transform: rotate(180deg);
        }

        .theme-menu {
            display: none;
            position: absolute;
            right: 0;
            top: calc(100% + 6px);
            background: #1e2535;
            border: 1px solid #3a4560;
            border-radius: 8px;
            overflow: hidden;
            min-width: 130px;
            z-index: 9000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .theme-dropdown.open .theme-menu {
            display: block;
        }

        .theme-item {
            padding: 9px 16px;
            font-size: 0.82rem;
            color: #8b9dc0;
            cursor: pointer;
            transition: background 0.15s, color 0.15s;
            font-family: 'Noto Sans KR', sans-serif;
        }

        .theme-item:hover {
            background: #252a38;
            color: #d0d4e0;
        }

        .theme-item.active {
            background: #2b6cb0;
            color: #fff;
        }

        /* â”€â”€ ë¼ì´íŠ¸ ëª¨ë“œ â”€â”€ */
        body.light {
            --bg-main: #f0f2f8;
            --bg-header: #ffffff;
            --bg-cell: #ffffff;
            --bg-cell-weekend: #fdf4fd;
            --bg-cell-today: #eef2ff;
            --border: #dce3f0;
            --text-main: #2d3748;
            --text-muted: #718096;
            --text-day-sun: #e53e3e;
            --text-day-sat: #3182ce;
            --row1-on: #e53e3e;
            --row1-on-text: #fff;
            --row1-off: #fee2e2;
            --row1-off-text: #b91c1c;
            --row2-on: #2b6cb0;
            --row2-on-text: #fff;
            --row2-off: #dbeafe;
            --row2-off-text: #1d4ed8;
            --row3-on: #276749;
            --row3-on-text: #fff;
            --row3-off: #dcfce7;
            --row3-off-text: #166534;
            background: var(--bg-main);
            color: var(--text-main);
        }

        body.light #cal-title {
            color: #1e293b;
        }

        body.light #cal-title .nepe-count {
            background: #eef2ff;
            border-color: #c7d2fe;
            color: #4338ca;
        }

        body.light #cal-title .nepe-count .count-num {
            color: #3730a3;
        }

        body.light #cal-title .nepe-count.goal-done {
            background: #dcfce7;
            border-color: #86efac;
            color: #166534;
        }

        body.light .nav-btn {
            border-color: #dce3f0;
            color: #718096;
        }

        body.light .nav-btn:hover {
            background: #f1f5f9;
            color: #2d3748;
            border-color: #b0bcd8;
        }

        body.light .lock-btn {
            border-color: #dce3f0;
            opacity: 0.6;
        }

        body.light .lock-btn:hover {
            background: #faf5ff;
            border-color: #a855f7;
            opacity: 1;
        }

        body.light .theme-btn {
            background: #f1f5f9;
            border-color: #dce3f0;
            color: #718096;
        }

        body.light .theme-btn:hover {
            background: #e2e8f0;
            color: #2d3748;
        }

        body.light .theme-menu {
            background: #ffffff;
            border-color: #dce3f0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        body.light .theme-item {
            color: #4a5568;
        }

        body.light .theme-item:hover {
            background: #f7fafc;
            color: #2d3748;
        }

        body.light .theme-item.active {
            background: #3182ce;
            color: #fff;
        }

        body.light .status-loading {
            color: #4338ca;
            background: #eef2ff;
            border-color: #c7d2fe;
        }

        body.light .status-saving {
            color: #c2410c;
            background: #fff7ed;
            border-color: #fed7aa;
        }

        body.light .status-saved {
            color: #166534;
            background: #dcfce7;
            border-color: #86efac;
        }

        body.light .status-error {
            color: #991b1b;
            background: #fee2e2;
            border-color: #fca5a5;
        }

        body.light #calendar {
            background: #dce3f0;
            border-color: #dce3f0;
        }

        body.light .day-header {
            background: #f8faff;
            color: #94a3b8;
        }

        body.light .day-header.sun {
            color: #e53e3e;
        }

        body.light .day-header.sat {
            color: #3182ce;
        }

        body.light .date-num {
            color: #64748b;
        }

        body.light .cell.sun .date-num {
            color: #dc2626;
        }

        body.light .cell.sat .date-num {
            color: #2563eb;
        }

        body.light .cell.today .date-num {
            background: #3b5bdb;
            color: #fff;
        }

        body.light .cell.today::after {
            border-color: #3b5bdb;
        }

        body.light .cell.empty {
            background: #e2e8f5;
        }

        body.light #lock-screen {
            background: #eef0f8;
        }

        body.light .lock-title {
            color: #94a3b8;
        }

        body.light .pin-dot {
            border-color: #cbd5e0;
        }

        body.light .pin-dot.filled {
            background: #3b82f6;
            border-color: #3b82f6;
        }

        body.light .pin-key {
            background: #ffffff;
            border-color: #dce3f0;
            color: #2d3748;
        }

        body.light .pin-key:hover {
            background: #f7fafc;
        }

        body.light .pin-key.del {
            color: #94a3b8;
        }

        /* â”€â”€ ëŸ¬ë¸”ë¦¬ í•‘í¬ â”€â”€ */
        body.pink {
            --bg-main: #1a0e15;
            --bg-header: #220f1a;
            --bg-cell: #1e1018;
            --bg-cell-weekend: #241220;
            --bg-cell-today: #2e1525;
            --border: #4a1e35;
            --text-main: #f5c6d8;
            --text-muted: #9f5070;
            --text-day-sun: #ff6b9d;
            --text-day-sat: #c890e8;
            --row1-on: #e5205a;
            --row1-on-text: #fff;
            --row1-off: #3d0c1e;
            --row1-off-text: #a05070;
            --row2-on: #9b3bbf;
            --row2-on-text: #fff;
            --row2-off: #280c38;
            --row2-off-text: #8050a0;
            --row3-on: #c23d6a;
            --row3-on-text: #fff;
            --row3-off: #350c28;
            --row3-off-text: #903058;
            background: var(--bg-main);
            color: var(--text-main);
        }

        body.pink #cal-title {
            color: #ffd0e8;
        }

        body.pink #cal-title .nepe-count {
            background: #350c28;
            border-color: #7a2050;
            color: #ff80b0;
        }

        body.pink #cal-title .nepe-count .count-num {
            color: #ffc0d8;
        }

        body.pink #cal-title .nepe-count.goal-done {
            background: #3d0c30;
            border-color: #c03070;
            color: #ff60a0;
        }

        body.pink .nav-btn {
            border-color: #4a1e35;
            color: #9f5070;
        }

        body.pink .nav-btn:hover {
            background: #2e1525;
            color: #f5c6d8;
            border-color: #7a2050;
        }

        body.pink .lock-btn {
            border-color: #5a1e45;
            opacity: 0.6;
        }

        body.pink .lock-btn:hover {
            background: #3d0c30;
            border-color: #c03070;
            opacity: 1;
        }

        body.pink .theme-btn {
            background: #220f1a;
            border-color: #4a1e35;
            color: #9f5070;
        }

        body.pink .theme-btn:hover {
            background: #2e1525;
            color: #f5c6d8;
        }

        body.pink .theme-menu {
            background: #220f1a;
            border-color: #4a1e35;
        }

        body.pink .theme-item {
            color: #9f5070;
        }

        body.pink .theme-item:hover {
            background: #2e1525;
            color: #f5c6d8;
        }

        body.pink .theme-item.active {
            background: #c23d6a;
            color: #fff;
        }

        body.pink .status-loading {
            color: #c890e8;
            background: #280c38;
            border-color: #5a1e65;
        }

        body.pink .status-saving {
            color: #ffb0c0;
            background: #350c18;
            border-color: #7a1535;
        }

        body.pink .status-saved {
            color: #ff80b0;
            background: #350c28;
            border-color: #7a2050;
        }

        body.pink .status-error {
            color: #ff6080;
            background: #3d0c10;
            border-color: #8a1525;
        }

        body.pink #calendar {
            background: #4a1e35;
            border-color: #4a1e35;
        }

        body.pink .day-header {
            background: #220f1a;
            color: #80304a;
        }

        body.pink .day-header.sun {
            color: #ff6b9d;
        }

        body.pink .day-header.sat {
            color: #c890e8;
        }

        body.pink .date-num {
            color: #a07090;
        }

        body.pink .cell.sun .date-num {
            color: #ff6b9d;
        }

        body.pink .cell.sat .date-num {
            color: #c890e8;
        }

        body.pink .cell.today .date-num {
            background: #c23d6a;
            color: #fff;
        }

        body.pink .cell.today::after {
            border-color: #c23d6a;
        }

        body.pink .cell.empty {
            background: #150a12;
        }

        body.pink #lock-screen {
            background: #120a10;
        }

        body.pink .lock-title {
            color: #9f5070;
        }

        body.pink .pin-dot {
            border-color: #4a1e35;
        }

        body.pink .pin-dot.filled {
            background: #c23d6a;
            border-color: #c23d6a;
        }

        body.pink .pin-key {
            background: #220f1a;
            border-color: #4a1e35;
            color: #f5c6d8;
        }

        body.pink .pin-key:hover {
            background: #2e1525;
        }

        body.pink .pin-key.del {
            color: #9f5070;
        }

        /* â”€â”€ ë„¤ì´ë²„ ê·¸ë¦° â”€â”€ */
        body.green {
            --bg-main: #0c1c14;
            --bg-header: #0f2318;
            --bg-cell: #111f16;
            --bg-cell-weekend: #13201a;
            --bg-cell-today: #122a1c;
            --border: #1e4030;
            --text-main: #b8e0c8;
            --text-muted: #4a7860;
            --text-day-sun: #ff7070;
            --text-day-sat: #60c060;
            --row1-on: #c0392b;
            --row1-on-text: #fff;
            --row1-off: #1c2c18;
            --row1-off-text: #608050;
            --row2-on: #27ae60;
            --row2-on-text: #fff;
            --row2-off: #0f2c18;
            --row2-off-text: #3a8050;
            --row3-on: #1e8449;
            --row3-on-text: #fff;
            --row3-off: #0c2818;
            --row3-off-text: #307040;
            background: var(--bg-main);
            color: var(--text-main);
        }

        body.green #cal-title {
            color: #c8f0d8;
        }

        body.green #cal-title .nepe-count {
            background: #0f2318;
            border-color: #2a5038;
            color: #60c080;
        }

        body.green #cal-title .nepe-count .count-num {
            color: #90e0a8;
        }

        body.green #cal-title .nepe-count.goal-done {
            background: #0c2c18;
            border-color: #1e8449;
            color: #4ade80;
        }

        body.green .nav-btn {
            border-color: #1e4030;
            color: #4a7860;
        }

        body.green .nav-btn:hover {
            background: #172e20;
            color: #b8e0c8;
            border-color: #2e6048;
        }

        body.green .lock-btn {
            border-color: #1a4030;
            opacity: 0.6;
        }

        body.green .lock-btn:hover {
            background: #0c2818;
            border-color: #27ae60;
            opacity: 1;
        }

        body.green .theme-btn {
            background: #0f2318;
            border-color: #1e4030;
            color: #4a7860;
        }

        body.green .theme-btn:hover {
            background: #172e20;
            color: #b8e0c8;
        }

        body.green .theme-menu {
            background: #0f2318;
            border-color: #1e4030;
        }

        body.green .theme-item {
            color: #4a7860;
        }

        body.green .theme-item:hover {
            background: #172e20;
            color: #b8e0c8;
        }

        body.green .theme-item.active {
            background: #27ae60;
            color: #fff;
        }

        body.green .status-loading {
            color: #60c080;
            background: #0f2318;
            border-color: #1e5030;
        }

        body.green .status-saving {
            color: #f6ad55;
            background: #1c1a08;
            border-color: #5a4010;
        }

        body.green .status-saved {
            color: #4ade80;
            background: #0c2818;
            border-color: #1e6040;
        }

        body.green .status-error {
            color: #fc8181;
            background: #200c0c;
            border-color: #501818;
        }

        body.green #calendar {
            background: #1e4030;
            border-color: #1e4030;
        }

        body.green .day-header {
            background: #0f2318;
            color: #386050;
        }

        body.green .day-header.sun {
            color: #ff7070;
        }

        body.green .day-header.sat {
            color: #60c060;
        }

        body.green .date-num {
            color: #4a7860;
        }

        body.green .cell.sun .date-num {
            color: #ff7070;
        }

        body.green .cell.sat .date-num {
            color: #60c060;
        }

        body.green .cell.today .date-num {
            background: #1e8449;
            color: #fff;
        }

        body.green .cell.today::after {
            border-color: #27ae60;
        }

        body.green .cell.empty {
            background: #0a1510;
        }

        body.green #lock-screen {
            background: #080f0b;
        }

        body.green .lock-title {
            color: #4a7860;
        }

        body.green .pin-dot {
            border-color: #1e4030;
        }

        body.green .pin-dot.filled {
            background: #27ae60;
            border-color: #27ae60;
        }

        body.green .pin-key {
            background: #0f2318;
            border-color: #1e4030;
            color: #b8e0c8;
        }

        body.green .pin-key:hover {
            background: #172e20;
        }

        body.green .pin-key.del {
            color: #4a7860;
        }
    </style>
</head>

<body>
    <!-- ì ê¸ˆ í™”ë©´ -->
    <div id="lock-screen">
        <div class="lock-icon">ğŸ”’</div>
        <div class="lock-title">ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”</div>
        <div class="pin-dots" id="pin-dots">
            <div class="pin-dot" id="d0"></div>
            <div class="pin-dot" id="d1"></div>
            <div class="pin-dot" id="d2"></div>
            <div class="pin-dot" id="d3"></div>
        </div>
        <div class="pin-keypad">
            <button class="pin-key" data-v="1">1</button>
            <button class="pin-key" data-v="2">2</button>
            <button class="pin-key" data-v="3">3</button>
            <button class="pin-key" data-v="4">4</button>
            <button class="pin-key" data-v="5">5</button>
            <button class="pin-key" data-v="6">6</button>
            <button class="pin-key" data-v="7">7</button>
            <button class="pin-key" data-v="8">8</button>
            <button class="pin-key" data-v="9">9</button>
            <button class="pin-key del" id="pin-del">âŒ«</button>
            <button class="pin-key zero" data-v="0">0</button>
        </div>
    </div>

    <!-- ë‹¬ë ¥ ë³¸ì²´ -->
    <div id="app">
        <div id="cal-header">
            <button class="nav-btn lock-btn" id="btn-lock" title="ì ê¸ˆ">ğŸ”’</button>
            <button class="nav-btn" id="btn-prev">&#8249;</button>
            <div id="cal-title">ë¡œë”© ì¤‘â€¦</div>
            <button class="nav-btn" id="btn-next">&#8250;</button>
            <span id="save-status"></span>
            <div class="theme-dropdown" id="theme-dropdown">
                <button class="theme-btn" id="theme-btn">
                    <span id="theme-label">ë‹¤í¬ ëª¨ë“œ</span>
                    <span class="chev">â–¾</span>
                </button>
                <div class="theme-menu">
                    <div class="theme-item active" data-theme="dark">ë‹¤í¬ ëª¨ë“œ</div>
                    <div class="theme-item" data-theme="light">ë¼ì´íŠ¸ ëª¨ë“œ</div>
                    <div class="theme-item" data-theme="pink">ëŸ¬ë¸”ë¦¬ í•‘í¬</div>
                    <div class="theme-item" data-theme="green">ë„¤ì´ë²„ ê·¸ë¦°</div>
                </div>
            </div>
        </div>
        <div id="calendar"></div>
    </div>

    <script type="module">
        // â”€â”€ Firebase SDK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js';
        import { getFirestore, doc, getDoc, setDoc } from 'https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: "AIzaSyD2HN1O7m0wxD3foaL-fY0HU9uG435sIdc",
            authDomain: "mywork-73765.firebaseapp.com",
            projectId: "mywork-73765",
            storageBucket: "mywork-73765.firebasestorage.app",
            messagingSenderId: "1098551880523",
            appId: "1:1098551880523:web:b37520653cb207178996ce"
        };

        const fbApp = initializeApp(firebaseConfig);
        const db = getFirestore(fbApp);

        // â”€â”€ PIN ì ê¸ˆ í™”ë©´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const CORRECT_PIN = '1212';
        const lockScreen = document.getElementById('lock-screen');
        const pinDotsEl = document.getElementById('pin-dots');
        const dotEls = [0, 1, 2, 3].map(i => document.getElementById('d' + i));
        let pinInput = '';

        function updateDots(isError) {
            dotEls.forEach((el, i) => {
                el.classList.toggle('filled', i < pinInput.length && !isError);
                el.classList.toggle('error', i < pinInput.length && isError);
            });
        }

        function tryUnlock() {
            if (pinInput === CORRECT_PIN) {
                sessionStorage.setItem('unlocked', '1');
                lockScreen.classList.add('hidden');
            } else {
                updateDots(true);
                pinDotsEl.classList.add('shake');
                pinDotsEl.addEventListener('animationend', () => {
                    pinDotsEl.classList.remove('shake');
                    pinInput = '';
                    updateDots(false);
                }, { once: true });
            }
        }

        if (sessionStorage.getItem('unlocked') === '1') lockScreen.classList.add('hidden');

        document.querySelectorAll('.pin-key[data-v]').forEach(btn => {
            btn.addEventListener('click', () => {
                if (pinInput.length >= 4) return;
                pinInput += btn.dataset.v;
                updateDots(false);
                if (pinInput.length === 4) tryUnlock();
            });
        });
        document.getElementById('pin-del').addEventListener('click', () => {
            pinInput = pinInput.slice(0, -1);
            updateDots(false);
        });
        document.addEventListener('keydown', e => {
            if (lockScreen.classList.contains('hidden')) return;
            if (e.key >= '0' && e.key <= '9' && pinInput.length < 4) {
                pinInput += e.key; updateDots(false);
                if (pinInput.length === 4) tryUnlock();
            } else if (e.key === 'Backspace') {
                pinInput = pinInput.slice(0, -1); updateDots(false);
            }
        });

        function lock() {
            sessionStorage.removeItem('unlocked');
            pinInput = '';
            updateDots(false);
            lockScreen.classList.remove('hidden');
        }
        document.getElementById('btn-lock').addEventListener('click', lock);

        // â”€â”€ í…Œë§ˆ ì „í™˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const THEME_NAMES = { dark: 'ë‹¤í¬ ëª¨ë“œ', light: 'ë¼ì´íŠ¸ ëª¨ë“œ', pink: 'ëŸ¬ë¸”ë¦¬ í•‘í¬', green: 'ë„¤ì´ë²„ ê·¸ë¦°' };
        const themeDropEl = document.getElementById('theme-dropdown');
        const themeLabelEl = document.getElementById('theme-label');

        function applyTheme(t) {
            document.body.className = document.body.className.replace(/\b(light|pink|green)\b/g, '').trim();
            if (t !== 'dark') document.body.classList.add(t);
            themeLabelEl.textContent = THEME_NAMES[t];
            document.querySelectorAll('.theme-item').forEach(el =>
                el.classList.toggle('active', el.dataset.theme === t));
            localStorage.setItem('theme', t);
            themeDropEl.classList.remove('open');
        }
        applyTheme(localStorage.getItem('theme') || 'dark');

        document.getElementById('theme-btn').addEventListener('click', e => {
            e.stopPropagation();
            themeDropEl.classList.toggle('open');
        });
        document.querySelectorAll('.theme-item').forEach(el =>
            el.addEventListener('click', () => applyTheme(el.dataset.theme)));
        document.addEventListener('click', () => themeDropEl.classList.remove('open'));

        // â”€â”€ ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const ROWS = [
            ['ìˆ˜ë©´', 'ë‚®ì ', 'íŠ¸ë¿œ'],           // 1í–‰ â†’ ë¹¨ê°„ìƒ‰
            ['ë§ˆìŒ', 'ë‚˜í—ˆ', 'ì¸ë¶', 'ì‰¼í‘œ'],   // 2í–‰ â†’ íŒŒë€ìƒ‰
            ['ë„¤í', 'í‹°í'],                   // 3í–‰ â†’ ë…¹ìƒ‰
        ];

        // â”€â”€ ìƒíƒœ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const today = new Date();
        let curYear = today.getFullYear();
        let curMonth = today.getMonth();
        const states = {};

        // â”€â”€ ì €ì¥ ìƒíƒœ UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const saveStatusEl = document.getElementById('save-status');
        let saveTimer = null;
        function setSaveStatus(msg, cls) { saveStatusEl.textContent = msg; saveStatusEl.className = cls; }

        // â”€â”€ Firestore â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function stateKey(y, m) { return `${y}-${String(m + 1).padStart(2, '0')}`; }

        function initMonthState(y, m) {
            const key = stateKey(y, m);
            if (!states[key]) {
                const days = new Date(y, m + 1, 0).getDate();
                states[key] = {};
                for (let d = 1; d <= days; d++)
                    states[key][d] = ROWS.map(row => row.map(() => false));
            }
            return states[key];
        }

        async function loadMonth(y, m) {
            setSaveStatus('ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦', 'status-loading');
            const key = stateKey(y, m);
            initMonthState(y, m);
            try {
                const snap = await getDoc(doc(db, 'calendar', key));
                if (snap.exists()) {
                    const saved = JSON.parse(snap.data().states);
                    Object.keys(saved).forEach(d => {
                        if (states[key][d]) states[key][d] = saved[d];
                    });
                }
                setSaveStatus('', '');
            } catch (e) {
                setSaveStatus('âš  ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨', 'status-error');
                console.error(e);
            }
        }

        function scheduleSave(y, m) {
            setSaveStatus('ì €ì¥ ì¤‘â€¦', 'status-saving');
            clearTimeout(saveTimer);
            saveTimer = setTimeout(() => saveMonth(y, m), 1000);
        }

        async function saveMonth(y, m) {
            const key = stateKey(y, m);
            try {
                await setDoc(doc(db, 'calendar', key), { states: JSON.stringify(states[key]) });
                setSaveStatus('âœ“ ì €ì¥ë¨', 'status-saved');
                setTimeout(() => setSaveStatus('', ''), 2000);
            } catch (e) {
                setSaveStatus('âš  ì €ì¥ ì‹¤íŒ¨', 'status-error');
                console.error(e);
            }
        }

        // â”€â”€ ë¡œì»¬ ìœ í‹¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function getState(y, m) { return states[stateKey(y, m)]; }
        function toggleBadge(y, m, d, ri, bi) { getState(y, m)[d][ri][bi] = !getState(y, m)[d][ri][bi]; }
        function isOn(y, m, d, ri, bi) { const s = getState(y, m); return s && s[d] && s[d][ri] && s[d][ri][bi]; }

        // â”€â”€ ë Œë”ë§ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const calEl = document.getElementById('calendar');
        const titleEl = document.getElementById('cal-title');
        const DAY_NAMES = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
        const NEPE_GOAL = 15;

        function countNepe(y, m) {
            const s = getState(y, m); if (!s) return 0;
            const days = new Date(y, m + 1, 0).getDate(); let n = 0;
            for (let d = 1; d <= days; d++) if (s[d] && s[d][2] && s[d][2][0]) n++;
            return n;
        }

        function updateTitle(y, m) {
            const cnt = countNepe(y, m), done = cnt >= NEPE_GOAL;
            titleEl.innerHTML = `${y}ë…„ ${m + 1}ì›”`
                + `<span class="nepe-count${done ? ' goal-done' : ''}" title="ë„¤í(ë¸”ë¡œê·¸) ì‘ì„± íšŸìˆ˜">`
                + `ë„¤í <span class="count-num">${cnt}</span> / ${NEPE_GOAL}</span>`;
        }

        function render() {
            calEl.innerHTML = '';
            const y = curYear, m = curMonth;
            const fd = new Date(y, m, 1).getDay(), dim = new Date(y, m + 1, 0).getDate();
            const nw = Math.ceil((fd + dim) / 7);
            calEl.className = `weeks-${nw}`;
            updateTitle(y, m);

            DAY_NAMES.forEach((name, i) => {
                const el = document.createElement('div');
                el.className = 'day-header' + (i === 0 ? ' sun' : i === 6 ? ' sat' : '');
                el.textContent = name;
                calEl.appendChild(el);
            });

            for (let cell = 0; cell < nw * 7; cell++) {
                const day = cell - fd + 1, wd = cell % 7;
                const valid = day >= 1 && day <= dim;
                const cellEl = document.createElement('div');
                cellEl.className = 'cell';
                if (!valid) { cellEl.classList.add('empty'); }
                else {
                    if (wd === 0) cellEl.classList.add('sun', 'weekend');
                    if (wd === 6) cellEl.classList.add('sat', 'weekend');
                    if (y === today.getFullYear() && m === today.getMonth() && day === today.getDate())
                        cellEl.classList.add('today');

                    const numEl = document.createElement('div');
                    numEl.className = 'date-num';
                    numEl.textContent = day;
                    cellEl.appendChild(numEl);

                    ROWS.forEach((rowItems, ri) => {
                        const rowEl = document.createElement('div');
                        rowEl.className = 'badge-row';
                        rowItems.forEach((label, bi) => {
                            const badge = document.createElement('span');
                            badge.className = `badge row${ri + 1}${isOn(y, m, day, ri, bi) ? ' on' : ''}`;
                            badge.textContent = label;
                            badge.addEventListener('click', () => {
                                toggleBadge(y, m, day, ri, bi);
                                badge.classList.toggle('on');
                                if (ri === 2 && bi === 0) updateTitle(y, m);
                                scheduleSave(y, m);
                            });
                            rowEl.appendChild(badge);
                        });
                        cellEl.appendChild(rowEl);
                    });
                }
                calEl.appendChild(cellEl);
            }
        }

        async function changeMonth(y, m) {
            calEl.innerHTML = '<div style="grid-column:1/-1;display:flex;align-items:center;justify-content:center;color:#4a5270;font-size:0.9rem;">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</div>';
            await loadMonth(y, m);
            render();
        }

        document.getElementById('btn-prev').addEventListener('click', () => {
            curMonth--; if (curMonth < 0) { curMonth = 11; curYear--; } changeMonth(curYear, curMonth);
        });
        document.getElementById('btn-next').addEventListener('click', () => {
            curMonth++; if (curMonth > 11) { curMonth = 0; curYear++; } changeMonth(curYear, curMonth);
        });

        // â”€â”€ íœ´ë‘‘ ìŠ¤í¬ë¡¤ë¡œ ì›” ì´ë™ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        let wheelLock = false;
        document.getElementById('app').addEventListener('wheel', e => {
            if (wheelLock) return;
            e.preventDefault();
            wheelLock = true;
            setTimeout(() => wheelLock = false, 500);  // 0.5ì´ˆ ë””ë°”ìš´ìŠ¤
            if (e.deltaY > 0) {
                // ì•„ë˜ë¡œ â†’ ë‹¤ìŒ ë‹¬
                curMonth++; if (curMonth > 11) { curMonth = 0; curYear++; }
            } else {
                // ìœ„ë¡œ â†’ ì´ì „ ë‹¬
                curMonth--; if (curMonth < 0) { curMonth = 11; curYear--; }
            }
            changeMonth(curYear, curMonth);
        }, { passive: false });

        changeMonth(curYear, curMonth);
    </script>
</body>

</html>
Getting DOM...Pressing key...Stopping...

Stop Agent
